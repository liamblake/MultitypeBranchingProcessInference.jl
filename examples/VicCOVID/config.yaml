env: 
  blas_num_threads: 1

model:
  stateprocess:
    params:
      E_state_count: 2
      I_state_count: 2
      is_time_homogeneous: false
      timestamps: [0.0, 7.0, 14.0, 21.0, 28.0, 35.0, 42.0, 49.0, 56.0, 63.0, 70.0, 77.0, 84.0, 91.0]
      R_0: [1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1]
      T_E: [5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0]
      T_I: [8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0]
      observation_probability: 0.8
      immigration_rate: [0.0, 0.0, 0.0, 0.0]
    # [E, E, I, I, O, R]
    initial_state: [10, 0, 0, 0, 0, 0]
  observation:
    mean: [0.0]
    cov: [1.0]

inference:
  data: 
    filename: data/observations.csv
    first_observation_time: 1.0
  likelihood_approx:
    method: kalman_filter
    switch:
      threshold: 20
      seed: 1516171819
    particle_filter:
      seed: 67890
      nparticles: 256
      multithreadded: false
  prior_parameters:
    T_E:
      shape: 10.0
      scale: 0.5
    T_I:
      shape: 8.0
      scale: 1.0
    # R_0:
    #   type: random_walk_gamma_initial_dist
    #   shape: 1.1
    #   scale: 1.0
    #   sigma: 0.25
    R_0:
      type: gaussian_processes
      covariance_function: exponential
      mu: [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
      ell: 136.47008022356596
      sigma: 0.4
      transform: sqrt
  proposal_parameters:
    mean: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
    # cov: [0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001]
    cov: [0.03508100349811887, -0.0507536462787948, 0.007087933019701412, 0.004311134444116814, 0.0038583012237791733, 0.0017062883932459515, 0.004238624322318275, -0.0019076365932418266, -0.0024390316318542663, 0.0005365261676763596, -0.0020815929922002635, -0.0020761344140380507, -0.0013195190773424258, -0.0007718893092658182, 0.0007446938243408191, 0.00011717759508709206, -0.0507536462787948, 0.9940733120770182, 0.15370330675689423, 0.14997169194603716, 0.14181997709198482, 0.1259557900437773, 0.1101787614551842, 0.10319325022069357, 0.06523989029287454, 0.03901492292333869, 0.033429771073890155, 0.011339275728458746, -0.005929183284808528, -0.015647915736116593, -0.029976584632436534, -0.03138269356598707, 0.007087933019701412, 0.15370330675689423, 0.05620755903775229, 0.03985307650395039, 0.03135121016418448, 0.024443375449554463, 0.022102735091809364, 0.01734963071750364, 0.010317384247555012, 0.007307500927736778, 0.005293443794887464, 0.001018200411015569, -0.001740102802294245, -0.0030220000684066575, -0.004849244526693349, -0.005777948368575206, 0.004311134444116814, 0.14997169194603716, 0.03985307650395039, 0.041967995999526914, 0.030923811158641897, 0.02311567787841013, 0.020634147982107765, 0.01645642828014463, 0.010224625087596948, 0.006822431311423828, 0.005016555367988072, 0.001198068138104644, -0.0015567977502483016, -0.0028244334663041454, -0.004789883936648655, -0.005390443034577743, 0.0038583012237791733, 0.14181997709198482, 0.03135121016418448, 0.030923811158641897, 0.03473258250702257, 0.022481928197138873, 0.01952015073975973, 0.015715568496674315, 0.009764373160632828, 0.006527190406475043, 0.004682482604784907, 0.001093601831177849, -0.001406820929775762, -0.0027460409362745322, -0.004670461823085321, -0.005083064004214164, 0.0017062883932459515, 0.1259557900437773, 0.024443375449554463, 0.02311567787841013, 0.022481928197138873, 0.023156594417687075, 0.01699048475716487, 0.01401520363242252, 0.008539033222441515, 0.005530458427308937, 0.0041947669004493305, 0.001055483268108709, -0.0012010351123431955, -0.0023572855726620473, -0.004107683358265988, -0.004428423183883617, 0.004238624322318275, 0.1101787614551842, 0.022102735091809364, 0.020634147982107765, 0.01952015073975973, 0.01699048475716487, 0.018334323131707592, 0.012278106582610663, 0.007443125256699522, 0.005140916108534471, 0.0035585496371113162, 0.0008185838198888657, -0.001158875258188324, -0.0021796401490343257, -0.0036268147590175696, -0.0038249666858533714, -0.0019076365932418266, 0.10319325022069357, 0.01734963071750364, 0.01645642828014463, 0.015715568496674315, 0.01401520363242252, 0.012278106582610663, 0.012670141690469828, 0.0068139479327891566, 0.004259408387902469, 0.003469976498717048, 0.0009828231425959108, -0.0008027899512539574, -0.0018065123731857615, -0.0031922320721843376, -0.0033812733994968967, -0.0024390316318542663, 0.06523989029287454, 0.010317384247555012, 0.010224625087596948, 0.009764373160632828, 0.008539033222441515, 0.007443125256699522, 0.0068139479327891566, 0.004948219798586113, 0.002618771482936943, 0.002179202047856763, 0.0006980810628102996, -0.00040362151387522607, -0.0010839891799217679, -0.001962609225220953, -0.002117679193268485, 0.0005365261676763596, 0.03901492292333869, 0.007307500927736778, 0.006822431311423828, 0.006527190406475043, 0.005530458427308937, 0.005140916108534471, 0.004259408387902469, 0.002618771482936943, 0.0021340563824405532, 0.0012435782056517675, 0.000325463940652818, -0.0003499960872162733, -0.000727838145869231, -0.0012245067130892619, -0.001336128376829944, -0.0020815929922002635, 0.033429771073890155, 0.005293443794887464, 0.005016555367988072, 0.004682482604784907, 0.0041947669004493305, 0.0035585496371113162, 0.003469976498717048, 0.002179202047856763, 0.0012435782056517675, 0.0014116662211805652, 0.00037098599302946584, -0.00016870258768474162, -0.0005070338252709021, -0.0009816652428430558, -0.001030202156989702, -0.0020761344140380507, 0.011339275728458746, 0.001018200411015569, 0.001198068138104644, 0.001093601831177849, 0.001055483268108709, 0.0008185838198888657, 0.0009828231425959108, 0.0006980810628102996, 0.000325463940652818, 0.00037098599302946584, 0.00037106130514487243, -2.4089064001123607e-5, -8.606697892638998e-5, -0.0003003358527098267, -0.0002640926438778692, -0.0013195190773424258, -0.005929183284808528, -0.001740102802294245, -0.0015567977502483016, -0.001406820929775762, -0.0012010351123431955, -0.001158875258188324, -0.0008027899512539574, -0.00040362151387522607, -0.0003499960872162733, -0.00016870258768474162, -2.4089064001123607e-5, 0.00026689249787417664, 0.00014861009296897833, 0.00024842107135066846, 0.0002751352619894723, -0.0007718893092658182, -0.015647915736116593, -0.0030220000684066575, -0.0028244334663041454, -0.0027460409362745322, -0.0023572855726620473, -0.0021796401490343257, -0.0018065123731857615, -0.0010839891799217679, -0.000727838145869231, -0.0005070338252709021, -8.606697892638998e-5, 0.00014861009296897833, 0.0005068509720449905, 0.0004831536384256755, 0.0005759925190934823, 0.0007446938243408191, -0.029976584632436534, -0.004849244526693349, -0.004789883936648655, -0.004670461823085321, -0.004107683358265988, -0.0036268147590175696, -0.0031922320721843376, -0.001962609225220953, -0.0012245067130892619, -0.0009816652428430558, -0.0003003358527098267, 0.00024842107135066846, 0.0004831536384256755, 0.0011999541340861114, 0.0009586053235747924, 0.00011717759508709206, -0.03138269356598707, -0.005777948368575206, -0.005390443034577743, -0.005083064004214164, -0.004428423183883617, -0.0038249666858533714, -0.0033812733994968967, -0.002117679193268485, -0.001336128376829944, -0.001030202156989702, -0.0002640926438778692, 0.0002751352619894723, 0.0005759925190934823, 0.0009586053235747924, 0.0014184336128790617]
  mh_config:
    seed: 1011121314
    buffer_size: 16384
    outfilename: data/expcovfn_vic_covid_kalman_param_samples.f64_array.bin
    max_iters: 831072
    nparams: 16
    max_time_sec: 604800.0 # 1 week!
    # [T_E, T_I, R_0_1, R_0_2, ..., R_0_14]
    init_sample: [1.9702021026565733, 7.947063333951174, 2.214743332299293, 2.6967066321185844, 2.167452882032263, 2.359025973872552, 2.1045936334458486, 1.9690462905306627, 1.4794144545843726, 1.3941797483724367, 1.2432786509359939, 0.7641490313968745, 0.6729689849702709, 0.5254615752270348, 0.5538658257704514, 0.6020087633774175]
    verbose: true
    infofilename: data/expcovfn_vic_covid_kalman.info.txt
    adaptive: true
    nadapt: 131072
    adapt_cov_scale: 0.34
    continue: false