env:
  blas_num_threads: 1

simulation:
  seed: 12345
  outfilename: data/se2i2r_sim_particles.int64_array.bin
  tstep: 1
  nsteps: 14


model:
  stateprocess:
    params:
      E_state_count: 2
      I_state_count: 2
      is_time_homogeneous: false
      timestamps: [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0]
      # [1/x * 7.2 * sin(2 * pi * x / 75) + 0.5 for x in [0.0, 7.0, 14.0, 21.0, 28.0, 35.0, 42.0, 49.0, 56.0, 63.0, 70.0, 77.0, 84.0, 91.0]]
      R_0: [1.1, 1.0692027363645824, 0.9741010493883717, 0.836784200249836, 0.6837215461912922, 0.5427704049682249, 0.4368929338254838, 0.37934134069872105, 0.3714567692675199, 0.4035053799426269, 0.4581642309979176, 0.5155939607318953, 0.5586754662224591, 0.57703041868886555]
      T_E: [5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0]
      T_I: [8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0]
      observation_probability: 0.8
      immigration_rate: [0.0, 0.0, 0.0, 0.0]
    # [E, E, I, I, O, R]
    initial_state: [100, 100, 100, 100, 0, 0]
  observation:
    mean: [0.0]
    cov: [1.0]

inference:
  likelihood_approx:
    method: hybrid
    switch:
      threshold: 20
      seed: 1516171819
    particle_filter:
      seed: 67890
      nparticles: 256
  prior_parameters:
    T_E:
      shape: 60.0
      scale: 0.1
    T_I:
      shape: 26.0
      scale: 0.5
    R_0:
      type: gaussian_processes
      covariance_function: exponential
      mu: [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
      ell: 136.47008022356596
      sigma: 0.4
      transform: sqrt
  proposal_parameters:
    mean: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
    cov: [0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.000001]
  mh_config:
    seed: 1011121314
    buffer_size: 16384
    outfilename: data/se2i2r_particle_param_samples.f64_array.bin
    max_iters: 831072
    nparams: 16
    max_time_sec: 1500.0
    # max_time_sec: 604800.0 # 1 week!
    # [R_0, T_E, T_I]
    init_sample: [1.9702021026565733, 7.947063333951174, 2.214743332299293, 2.6967066321185844, 2.167452882032263, 2.359025973872552, 2.1045936334458486, 1.9690462905306627, 1.4794144545843726, 1.3941797483724367, 1.2432786509359939, 0.7641490313968745, 0.6729689849702709, 0.5254615752270348, 0.5538658257704514, 0.6020087633774175]
    verbose: true
    infofilename: data/se2i2r_particle.info.txt
    adaptive: true
    nadapt: 65536
    adapt_cov_scale: 0.8
    continue: false
